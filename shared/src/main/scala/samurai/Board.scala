package samurai

import samurai.Figure.Figure
import samurai.Tile.Tile
import utils._

case class BoardTile(tile: Tile, figures: Set[Figure], token: Option[Token])

object Board {

  def getNeighbours(position: MatrixPosition): Set[MatrixPosition] = {
    if (position.row % 2 == 0) {
      Set(
        MatrixPosition(position.column - 1, position.row),
        MatrixPosition(position.column + 1, position.row),
        MatrixPosition(position.column, position.row + 1),
        MatrixPosition(position.column + 1, position.row + 1),
        MatrixPosition(position.column, position.row - 1),
        MatrixPosition(position.column + 1, position.row - 1)
      )
    } else {
      Set(
        MatrixPosition(position.column - 1, position.row),
        MatrixPosition(position.column + 1, position.row),
        MatrixPosition(position.column, position.row + 1),
        MatrixPosition(position.column - 1, position.row + 1),
        MatrixPosition(position.column, position.row - 1),
        MatrixPosition(position.column - 1, position.row - 1)
      )
    }
  }

  type BaseBoard = SparseMatrix[Tile]
  type Board = SparseMatrix[BoardTile]

  val twoPlayerBoard: BaseBoard = Map(
    MatrixPosition(5, 6) -> 3,
    MatrixPosition(9, 6) -> 2,
    MatrixPosition(11, 10) -> 1,
    MatrixPosition(13, 2) -> 2,
    MatrixPosition(4, 8) -> 1,
    MatrixPosition(12, 1) -> 1,
    MatrixPosition(8, 5) -> 2,
    MatrixPosition(10, 8) -> 2,
    MatrixPosition(10, 5) -> 2,
    MatrixPosition(11, 8) -> 2,
    MatrixPosition(14, 1) -> 1,
    MatrixPosition(9, 9) -> 1,
    MatrixPosition(10, 10) -> 1,
    MatrixPosition(7, 8) -> 2,
    MatrixPosition(11, 6) -> 2,
    MatrixPosition(7, 5) -> 1,
    MatrixPosition(4, 7) -> 3,
    MatrixPosition(7, 9) -> 1,
    MatrixPosition(2, 5) -> 1,
    MatrixPosition(6, 10) -> 1,
    MatrixPosition(14, 3) -> 3,
    MatrixPosition(2, 6) -> 3,
    MatrixPosition(8, 4) -> 1,
    MatrixPosition(13, 1) -> 3,
    MatrixPosition(10, 9) -> 1,
    MatrixPosition(9, 7) -> 2,
    MatrixPosition(1, 8) -> 1,
    MatrixPosition(14, 2) -> 1,
    MatrixPosition(6, 5) -> 1,
    MatrixPosition(4, 5) -> 1,
    MatrixPosition(4, 10) -> 1,
    MatrixPosition(5, 8) -> 2,
    MatrixPosition(13, 0) -> 1,
    MatrixPosition(4, 6) -> 2,
    MatrixPosition(12, 2) -> 2,
    MatrixPosition(5, 10) -> 1,
    MatrixPosition(12, 3) -> 4,
    MatrixPosition(12, 8) -> 1,
    MatrixPosition(11, 7) -> 2,
    MatrixPosition(6, 7) -> 2,
    MatrixPosition(4, 9) -> 1,
    MatrixPosition(2, 7) -> 2,
    MatrixPosition(10, 4) -> 1,
    MatrixPosition(9, 4) -> 1,
    MatrixPosition(12, 4) -> 2,
    MatrixPosition(13, 6) -> 1,
    MatrixPosition(12, 9) -> 1,
    MatrixPosition(1, 6) -> 2,
    MatrixPosition(7, 7) -> 2,
    MatrixPosition(3, 8) -> 1,
    MatrixPosition(14, 5) -> 1,
    MatrixPosition(11, 3) -> 1,
    MatrixPosition(5, 9) -> 3,
    MatrixPosition(13, 5) -> 3,
    MatrixPosition(3, 7) -> 2,
    MatrixPosition(8, 8) -> 3,
    MatrixPosition(8, 9) -> 1,
    MatrixPosition(9, 8) -> 2,
    MatrixPosition(13, 7) -> 1,
    MatrixPosition(2, 8) -> 1,
    MatrixPosition(10, 7) -> 5,
    MatrixPosition(8, 6) -> 2,
    MatrixPosition(12, 7) -> 3,
    MatrixPosition(1, 5) -> 1,
    MatrixPosition(10, 6) -> 2,
    MatrixPosition(13, 4) -> 2,
    MatrixPosition(13, 3) -> 2,
    MatrixPosition(12, 0) -> 1,
    MatrixPosition(11, 5) -> 3,
    MatrixPosition(6, 8) -> 4,
    MatrixPosition(8, 7) -> 2,
    MatrixPosition(15, 3) -> 1,
    MatrixPosition(0, 7) -> 1,
    MatrixPosition(6, 9) -> 2,
    MatrixPosition(1, 7) -> 3,
    MatrixPosition(9, 5) -> 3,
    MatrixPosition(14, 4) -> 1,
    MatrixPosition(3, 6) -> 2,
    MatrixPosition(3, 5) -> 1,
    MatrixPosition(11, 9) -> 3,
    MatrixPosition(5, 5) -> 1,
    MatrixPosition(0, 8) -> 1,
    MatrixPosition(0, 6) -> 1,
    MatrixPosition(11, 4) -> 2,
    MatrixPosition(5, 7) -> 2,
    MatrixPosition(7, 4) -> 1,
    MatrixPosition(6, 6) -> 1,
    MatrixPosition(7, 6) -> 3,
    MatrixPosition(12, 6) -> 1,
    MatrixPosition(11, 2) -> 1,
    MatrixPosition(12, 5) -> 2
  )

  val threePlayerBoard: BaseBoard = Map(
    MatrixPosition(15, 8) -> 2,
    MatrixPosition(17, 0) -> 1,
    MatrixPosition(13, 8) -> 2,
    MatrixPosition(16, 8) -> 1,
    MatrixPosition(15, 3) -> 1,
    MatrixPosition(17, 3) -> 2,
    MatrixPosition(13, 6) -> 2,
    MatrixPosition(12, 7) -> 2,
    MatrixPosition(10, 7) -> 2,
    MatrixPosition(9, 5) -> 1,
    MatrixPosition(7, 7) -> 2,
    MatrixPosition(14, 9) -> 1,
    MatrixPosition(12, 8) -> 3,
    MatrixPosition(8, 7) -> 3,
    MatrixPosition(10, 6) -> 1,
    MatrixPosition(16, 9) -> 1,
    MatrixPosition(15, 5) -> 3,
    MatrixPosition(11, 6) -> 3,
    MatrixPosition(6, 6) -> 3,
    MatrixPosition(5, 7) -> 3,
    MatrixPosition(19, 3) -> 1,
    MatrixPosition(15, 4) -> 2,
    MatrixPosition(11, 7) -> 2,
    MatrixPosition(18, 3) -> 3,
    MatrixPosition(11, 9) -> 1,
    MatrixPosition(17, 1) -> 3,
    MatrixPosition(8, 5) -> 1,
    MatrixPosition(16, 6) -> 1,
    MatrixPosition(11, 5) -> 1,
    MatrixPosition(18, 4) -> 1,
    MatrixPosition(7, 8) -> 1,
    MatrixPosition(8, 6) -> 2,
    MatrixPosition(14, 4) -> 1,
    MatrixPosition(10, 8) -> 4,
    MatrixPosition(10, 5) -> 1,
    MatrixPosition(9, 7) -> 2,
    MatrixPosition(8, 9) -> 1,
    MatrixPosition(15, 10) -> 1,
    MatrixPosition(12, 4) -> 1,
    MatrixPosition(6, 8) -> 1,
    MatrixPosition(17, 2) -> 2,
    MatrixPosition(6, 5) -> 1,
    MatrixPosition(18, 1) -> 1,
    MatrixPosition(16, 3) -> 4,
    MatrixPosition(16, 7) -> 3,
    MatrixPosition(15, 9) -> 3,
    MatrixPosition(12, 6) -> 2,
    MatrixPosition(5, 6) -> 2,
    MatrixPosition(4, 7) -> 1,
    MatrixPosition(15, 2) -> 1,
    MatrixPosition(14, 10) -> 1,
    MatrixPosition(13, 5) -> 3,
    MatrixPosition(13, 7) -> 2,
    MatrixPosition(9, 10) -> 1,
    MatrixPosition(16, 1) -> 1,
    MatrixPosition(11, 4) -> 1,
    MatrixPosition(14, 8) -> 2,
    MatrixPosition(14, 6) -> 2,
    MatrixPosition(15, 6) -> 2,
    MatrixPosition(4, 8) -> 1,
    MatrixPosition(16, 5) -> 2,
    MatrixPosition(13, 9) -> 1,
    MatrixPosition(7, 6) -> 2,
    MatrixPosition(17, 6) -> 1,
    MatrixPosition(17, 5) -> 3,
    MatrixPosition(16, 2) -> 2,
    MatrixPosition(13, 4) -> 1,
    MatrixPosition(8, 10) -> 1,
    MatrixPosition(6, 7) -> 2,
    MatrixPosition(5, 8) -> 1,
    MatrixPosition(12, 5) -> 2,
    MatrixPosition(9, 9) -> 3,
    MatrixPosition(18, 5) -> 1,
    MatrixPosition(18, 2) -> 1,
    MatrixPosition(14, 5) -> 2,
    MatrixPosition(10, 10) -> 1,
    MatrixPosition(17, 4) -> 2,
    MatrixPosition(17, 7) -> 1,
    MatrixPosition(8, 8) -> 1,
    MatrixPosition(5, 5) -> 1,
    MatrixPosition(7, 5) -> 1,
    MatrixPosition(10, 9) -> 2,
    MatrixPosition(9, 6) -> 3,
    MatrixPosition(12, 9) -> 1,
    MatrixPosition(11, 8) -> 2,
    MatrixPosition(15, 7) -> 2,
    MatrixPosition(14, 7) -> 5,
    MatrixPosition(16, 4) -> 2,
    MatrixPosition(16, 0) -> 1,
    MatrixPosition(9, 8) -> 2,
    MatrixPosition(4, 6) -> 1,
    MatrixPosition(0, 6) -> 1,
    MatrixPosition(1, 6) -> 1,
    MatrixPosition(2, 6) -> 1,
    MatrixPosition(3, 6) -> 1,
    MatrixPosition(0, 7) -> 1,
    MatrixPosition(1, 7) -> 3,
    MatrixPosition(2, 7) -> 2,
    MatrixPosition(3, 7) -> 3,
    MatrixPosition(0, 8) -> 1,
    MatrixPosition(1, 8) -> 2,
    MatrixPosition(2, 8) -> 2,
    MatrixPosition(3, 8) -> 2,
    MatrixPosition(0, 9) -> 1,
    MatrixPosition(1, 9) -> 3,
    MatrixPosition(2, 9) -> 2,
    MatrixPosition(3, 9) -> 3,
    MatrixPosition(4, 9) -> 1,
    MatrixPosition(5, 9) -> 3,
    MatrixPosition(6, 9) -> 2,
    MatrixPosition(7, 9) -> 3,
    MatrixPosition(0, 10) -> 1,
    MatrixPosition(1, 10) -> 2,
    MatrixPosition(2, 10) -> 2,
    MatrixPosition(3, 10) -> 1,
    MatrixPosition(4, 10) -> 2,
    MatrixPosition(5, 10) -> 2,
    MatrixPosition(6, 10) -> 2,
    MatrixPosition(7, 10) -> 2,
    MatrixPosition(1, 11) -> 1,
    MatrixPosition(2, 11) -> 3,
    MatrixPosition(3, 11) -> 1,
    MatrixPosition(4, 11) -> 1,
    MatrixPosition(5, 11) -> 3,
    MatrixPosition(6, 11) -> 2,
    MatrixPosition(7, 11) -> 3,
    MatrixPosition(8, 11) -> 1,
    MatrixPosition(1, 12) -> 1,
    MatrixPosition(2, 12) -> 1,
    MatrixPosition(4, 12) -> 1,
    MatrixPosition(5, 12) -> 1,
    MatrixPosition(6, 12) -> 1,
    MatrixPosition(7, 12) -> 1,
  )


  val fourPlayerBoard: BaseBoard = Map(
    MatrixPosition(15, 8) -> 2,
    MatrixPosition(17, 0) -> 1,
    MatrixPosition(13, 8) -> 2,
    MatrixPosition(16, 8) -> 1,
    MatrixPosition(15, 3) -> 1,
    MatrixPosition(17, 3) -> 2,
    MatrixPosition(13, 6) -> 2,
    MatrixPosition(12, 7) -> 2,
    MatrixPosition(10, 7) -> 2,
    MatrixPosition(9, 5) -> 1,
    MatrixPosition(7, 7) -> 2,
    MatrixPosition(14, 9) -> 1,
    MatrixPosition(12, 8) -> 3,
    MatrixPosition(8, 7) -> 3,
    MatrixPosition(10, 6) -> 1,
    MatrixPosition(16, 9) -> 1,
    MatrixPosition(15, 5) -> 3,
    MatrixPosition(11, 6) -> 3,
    MatrixPosition(6, 6) -> 3,
    MatrixPosition(5, 7) -> 3,
    MatrixPosition(19, 3) -> 1,
    MatrixPosition(15, 4) -> 2,
    MatrixPosition(11, 7) -> 2,
    MatrixPosition(18, 3) -> 3,
    MatrixPosition(11, 9) -> 1,
    MatrixPosition(17, 1) -> 3,
    MatrixPosition(8, 5) -> 1,
    MatrixPosition(16, 6) -> 1,
    MatrixPosition(11, 5) -> 1,
    MatrixPosition(18, 4) -> 1,
    MatrixPosition(7, 8) -> 1,
    MatrixPosition(8, 6) -> 2,
    MatrixPosition(14, 4) -> 1,
    MatrixPosition(10, 8) -> 4,
    MatrixPosition(10, 5) -> 1,
    MatrixPosition(9, 7) -> 2,
    MatrixPosition(8, 9) -> 1,
    MatrixPosition(15, 10) -> 1,
    MatrixPosition(12, 4) -> 1,
    MatrixPosition(6, 8) -> 1,
    MatrixPosition(17, 2) -> 2,
    MatrixPosition(6, 5) -> 1,
    MatrixPosition(18, 1) -> 1,
    MatrixPosition(16, 3) -> 4,
    MatrixPosition(16, 7) -> 3,
    MatrixPosition(15, 9) -> 3,
    MatrixPosition(12, 6) -> 2,
    MatrixPosition(5, 6) -> 2,
    MatrixPosition(4, 7) -> 1,
    MatrixPosition(15, 2) -> 1,
    MatrixPosition(14, 10) -> 1,
    MatrixPosition(13, 5) -> 3,
    MatrixPosition(13, 7) -> 2,
    MatrixPosition(9, 10) -> 1,
    MatrixPosition(16, 1) -> 1,
    MatrixPosition(11, 4) -> 1,
    MatrixPosition(14, 8) -> 2,
    MatrixPosition(14, 6) -> 2,
    MatrixPosition(15, 6) -> 2,
    MatrixPosition(4, 8) -> 1,
    MatrixPosition(16, 5) -> 2,
    MatrixPosition(13, 9) -> 1,
    MatrixPosition(7, 6) -> 2,
    MatrixPosition(17, 6) -> 1,
    MatrixPosition(17, 5) -> 3,
    MatrixPosition(16, 2) -> 2,
    MatrixPosition(13, 4) -> 1,
    MatrixPosition(8, 10) -> 1,
    MatrixPosition(6, 7) -> 2,
    MatrixPosition(5, 8) -> 1,
    MatrixPosition(12, 5) -> 2,
    MatrixPosition(9, 9) -> 3,
    MatrixPosition(18, 5) -> 1,
    MatrixPosition(18, 2) -> 1,
    MatrixPosition(14, 5) -> 2,
    MatrixPosition(10, 10) -> 1,
    MatrixPosition(17, 4) -> 2,
    MatrixPosition(17, 7) -> 1,
    MatrixPosition(8, 8) -> 1,
    MatrixPosition(5, 5) -> 1,
    MatrixPosition(7, 5) -> 1,
    MatrixPosition(10, 9) -> 2,
    MatrixPosition(9, 6) -> 3,
    MatrixPosition(12, 9) -> 1,
    MatrixPosition(11, 8) -> 2,
    MatrixPosition(15, 7) -> 2,
    MatrixPosition(14, 7) -> 5,
    MatrixPosition(16, 4) -> 2,
    MatrixPosition(16, 0) -> 1,
    MatrixPosition(9, 8) -> 2,
    MatrixPosition(4, 6) -> 1,
    MatrixPosition(0, 6) -> 1,
    MatrixPosition(1, 6) -> 1,
    MatrixPosition(2, 6) -> 1,
    MatrixPosition(3, 6) -> 1,
    MatrixPosition(0, 7) -> 1,
    MatrixPosition(1, 7) -> 3,
    MatrixPosition(2, 7) -> 2,
    MatrixPosition(3, 7) -> 3,
    MatrixPosition(0, 8) -> 1,
    MatrixPosition(1, 8) -> 2,
    MatrixPosition(2, 8) -> 2,
    MatrixPosition(3, 8) -> 2,
    MatrixPosition(0, 9) -> 1,
    MatrixPosition(1, 9) -> 3,
    MatrixPosition(2, 9) -> 2,
    MatrixPosition(3, 9) -> 3,
    MatrixPosition(4, 9) -> 1,
    MatrixPosition(5, 9) -> 3,
    MatrixPosition(6, 9) -> 2,
    MatrixPosition(7, 9) -> 3,
    MatrixPosition(0, 10) -> 1,
    MatrixPosition(1, 10) -> 2,
    MatrixPosition(2, 10) -> 2,
    MatrixPosition(3, 10) -> 1,
    MatrixPosition(4, 10) -> 2,
    MatrixPosition(5, 10) -> 2,
    MatrixPosition(6, 10) -> 2,
    MatrixPosition(7, 10) -> 2,
    MatrixPosition(1, 11) -> 1,
    MatrixPosition(2, 11) -> 3,
    MatrixPosition(3, 11) -> 1,
    MatrixPosition(4, 11) -> 1,
    MatrixPosition(5, 11) -> 3,
    MatrixPosition(6, 11) -> 2,
    MatrixPosition(7, 11) -> 3,
    MatrixPosition(8, 11) -> 1,
    MatrixPosition(1, 12) -> 1,
    MatrixPosition(2, 12) -> 1,
    MatrixPosition(4, 12) -> 1,
    MatrixPosition(5, 12) -> 1,
    MatrixPosition(6, 12) -> 1,
    MatrixPosition(7, 12) -> 1,
    MatrixPosition(19, 1) -> 3,
    MatrixPosition(20, 1) -> 1,
    MatrixPosition(19, 2) -> 1,
    MatrixPosition(18, 0) -> 2,
    MatrixPosition(19, 0) -> 2,
    MatrixPosition(20, 0) -> 1,
    MatrixPosition(21, 0) -> 1,
    MatrixPosition(22, 0) -> 1,
    MatrixPosition(16, -1) -> 1,
    MatrixPosition(17, -1) -> 3,
    MatrixPosition(18, -1) -> 2,
    MatrixPosition(19, -1) -> 4,
    MatrixPosition(20, -1) -> 2,
    MatrixPosition(21, -1) -> 3,
    MatrixPosition(22, -1) -> 2,
    MatrixPosition(23, -1) -> 1,
    MatrixPosition(16, -2) -> 1,
    MatrixPosition(17, -2) -> 2,
    MatrixPosition(18, -2) -> 2,
    MatrixPosition(19, -2) -> 2,
    MatrixPosition(20, -2) -> 2,
    MatrixPosition(21, -2) -> 2,
    MatrixPosition(22, -2) -> 3,
    MatrixPosition(23, -2) -> 1,
    MatrixPosition(17, -3) -> 1,
    MatrixPosition(18, -3) -> 3,
    MatrixPosition(19, -3) -> 2,
    MatrixPosition(20, -3) -> 3,
    MatrixPosition(21, -3) -> 1,
    MatrixPosition(22, -3) -> 1,
    MatrixPosition(23, -3) -> 1,
    MatrixPosition(17, -4) -> 1,
    MatrixPosition(18, -4) -> 1,
    MatrixPosition(19, -4) -> 2,
    MatrixPosition(20, -4) -> 2,
    MatrixPosition(21, -4) -> 1,
    MatrixPosition(19, -5) -> 1,
    MatrixPosition(20, -5) -> 3,
    MatrixPosition(21, -5) -> 1,
    MatrixPosition(19, -6) -> 1,
    MatrixPosition(20, -6) -> 1,
  ).map{
    case MatrixPosition(x, y) -> t => MatrixPosition(x, y + 6) -> t
  }
}
